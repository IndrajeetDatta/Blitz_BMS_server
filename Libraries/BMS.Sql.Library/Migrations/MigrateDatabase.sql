CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220706091426_Add-Application-Users') THEN
    CREATE TABLE "ApplicationUsers" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "Name" text NOT NULL,
        CONSTRAINT "PK_ApplicationUsers" PRIMARY KEY ("Id")
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220706091426_Add-Application-Users') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20220706091426_Add-Application-Users', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220719163143_Updated_ApplicationUser_Fields') THEN
    ALTER TABLE "ApplicationUsers" RENAME COLUMN "Name" TO "LastName";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220719163143_Updated_ApplicationUser_Fields') THEN
    ALTER TABLE "ApplicationUsers" ADD "Email" text NOT NULL DEFAULT '';
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220719163143_Updated_ApplicationUser_Fields') THEN
    ALTER TABLE "ApplicationUsers" ADD "FirstName" text NOT NULL DEFAULT '';
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220719163143_Updated_ApplicationUser_Fields') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20220719163143_Updated_ApplicationUser_Fields', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220727152458_Add-ChargingStation-And-Related-Entities') THEN
    CREATE TABLE "Clients" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "Name" text NOT NULL,
        "Location" text NOT NULL,
        "Phone" text NOT NULL,
        "Email" text NOT NULL,
        CONSTRAINT "PK_Clients" PRIMARY KEY ("Id")
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220727152458_Add-ChargingStation-And-Related-Entities') THEN
    CREATE TABLE "Installers" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "Name" text NOT NULL,
        "Phone" text NOT NULL,
        "Email" text NOT NULL,
        CONSTRAINT "PK_Installers" PRIMARY KEY ("Id")
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220727152458_Add-ChargingStation-And-Related-Entities') THEN
    CREATE TABLE "ChargingStations" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "ClientId" integer NOT NULL,
        "InstallerId" integer NOT NULL,
        "Active" boolean NOT NULL,
        "NetworkConnection" boolean NOT NULL,
        "LoadManagement" boolean NOT NULL,
        "OCPPConnection" boolean NOT NULL,
        "SimActive" boolean NOT NULL,
        "Uptime" integer NOT NULL,
        "SerialNumber" text NOT NULL,
        "Address" text NOT NULL,
        "LocationData" text NOT NULL,
        "SoftwareVersion" text NOT NULL,
        "Heartbeat" timestamp with time zone NOT NULL,
        "DateInstalled" timestamp with time zone NOT NULL,
        "LastMaintenance" timestamp with time zone NULL,
        "SystemTime" timestamp with time zone NOT NULL,
        "Configured" text NOT NULL,
        "NetworkType" text NOT NULL,
        "ETH0DHCP" boolean NOT NULL,
        "ETH0IPAddress" text NOT NULL,
        "ETH0SubnetMask" text NOT NULL,
        "ETH0Gateway" text NOT NULL,
        "ModemServiceActive" boolean NOT NULL,
        "ModemPreferOverETH0" boolean NOT NULL,
        "ModemDefaultRoute" boolean NOT NULL,
        "ModemSignalRSSI" integer NOT NULL,
        "ModemSignalCQI" integer NOT NULL,
        "ModemReceivedBytes" bigint NOT NULL,
        "ModemTransmittedBytes" bigint NOT NULL,
        "ModemAPN" text NOT NULL,
        "ModemSimPin" text NOT NULL,
        "ModemUsername" text NOT NULL,
        "ModemPassword" text NOT NULL,
        "ModemIPAddress" text NOT NULL,
        "ModemPrimaryDNSServer" text NOT NULL,
        "ModemSecondaryDNSServer" text NOT NULL,
        "ModemIMSI" text NOT NULL,
        "ModemICCID" text NOT NULL,
        "ModemExtendedReport" text NOT NULL,
        "ModemConnectionStatus" text NOT NULL,
        "ModemProvider" text NOT NULL,
        "ModemRegistrationStatus" text NOT NULL,
        "ModemRoamingStatus" text NOT NULL,
        "ModemSignalQuality" text NOT NULL,
        "ModemRadioTechnology" text NOT NULL,
        "ModemSimStatus" text NOT NULL,
        CONSTRAINT "PK_ChargingStations" PRIMARY KEY ("Id"),
        CONSTRAINT "FK_ChargingStations_Clients_ClientId" FOREIGN KEY ("ClientId") REFERENCES "Clients" ("Id") ON DELETE CASCADE,
        CONSTRAINT "FK_ChargingStations_Installers_InstallerId" FOREIGN KEY ("InstallerId") REFERENCES "Installers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220727152458_Add-ChargingStation-And-Related-Entities') THEN
    CREATE TABLE "Networks" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "ChargingStationId" integer NOT NULL,
        "Name" text NOT NULL,
        "IPV4Address" text NOT NULL,
        "IPV6Address" text NOT NULL,
        "MACAddress" text NOT NULL,
        "ReceivedBytes" bigint NOT NULL,
        "TransmittedBytes" bigint NOT NULL,
        CONSTRAINT "PK_Networks" PRIMARY KEY ("Id"),
        CONSTRAINT "FK_Networks_ChargingStations_ChargingStationId" FOREIGN KEY ("ChargingStationId") REFERENCES "ChargingStations" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220727152458_Add-ChargingStation-And-Related-Entities') THEN
    CREATE INDEX "IX_ChargingStations_ClientId" ON "ChargingStations" ("ClientId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220727152458_Add-ChargingStation-And-Related-Entities') THEN
    CREATE INDEX "IX_ChargingStations_InstallerId" ON "ChargingStations" ("InstallerId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220727152458_Add-ChargingStation-And-Related-Entities') THEN
    CREATE INDEX "IX_Networks_ChargingStationId" ON "Networks" ("ChargingStationId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220727152458_Add-ChargingStation-And-Related-Entities') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20220727152458_Add-ChargingStation-And-Related-Entities', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220808125035_Add-ChargeController-ChargePoint-RFID_Remove-ChargeStation') THEN
    ALTER TABLE "Networks" DROP CONSTRAINT "FK_Networks_ChargingStations_ChargingStationId";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220808125035_Add-ChargeController-ChargePoint-RFID_Remove-ChargeStation') THEN
    DROP TABLE "ChargingStations";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220808125035_Add-ChargeController-ChargePoint-RFID_Remove-ChargeStation') THEN
    CREATE TABLE "ChargeControllers" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "ClientId" integer NOT NULL,
        "InstallerId" integer NOT NULL,
        "Active" boolean NOT NULL,
        "NetworkConnection" boolean NOT NULL,
        "LoadManagement" boolean NOT NULL,
        "OCPPConnection" boolean NOT NULL,
        "SimActive" boolean NOT NULL,
        "UptimeInSeconds" bigint NOT NULL,
        "SerialNumber" text NOT NULL,
        "Address" text NOT NULL,
        "LocationData" text NOT NULL,
        "DateInstalled" timestamp with time zone NOT NULL,
        "LastMaintenance" timestamp with time zone NULL,
        "SystemTime" timestamp with time zone NOT NULL,
        "NetworkType" text NOT NULL,
        "ETH0DHCP" boolean NOT NULL,
        "ETH0IPAddress" text NOT NULL,
        "ETH0SubnetMask" text NOT NULL,
        "ETH0Gateway" text NOT NULL,
        "ModemServiceActive" boolean NOT NULL,
        "ModemPreferOverETH0" boolean NOT NULL,
        "ModemDefaultRoute" boolean NOT NULL,
        "ModemSignalRSSI" integer NOT NULL,
        "ModemSignalCQI" integer NOT NULL,
        "ModemReceivedBytes" bigint NOT NULL,
        "ModemTransmittedBytes" bigint NOT NULL,
        "ModemAPN" text NOT NULL,
        "ModemSimPin" text NOT NULL,
        "ModemUsername" text NOT NULL,
        "ModemPassword" text NOT NULL,
        "ModemIPAddress" text NOT NULL,
        "ModemPrimaryDNSServer" text NOT NULL,
        "ModemSecondaryDNSServer" text NOT NULL,
        "ModemIMSI" text NOT NULL,
        "ModemICCID" text NOT NULL,
        "ModemExtendedReport" text NOT NULL,
        "ModemConnectionStatus" text NOT NULL,
        "ModemProvider" text NOT NULL,
        "ModemRegistrationStatus" text NOT NULL,
        "ModemRoamingStatus" text NOT NULL,
        "ModemSignalQuality" text NOT NULL,
        "ModemRadioTechnology" text NOT NULL,
        "ModemSimStatus" text NOT NULL,
        "CPUTemperatureCelsius" integer NOT NULL,
        "CPUUtilizationPercentage" integer NOT NULL,
        "RAMAvailableBytes" bigint NOT NULL,
        "RAMTotalBytes" bigint NOT NULL,
        "RAMUsedBytes" bigint NOT NULL,
        "DataUtilizationPercentage" integer NOT NULL,
        "DataTotalBytes" bigint NOT NULL,
        "LogUtilizationPercentage" integer NOT NULL,
        "LogTotalBytes" bigint NOT NULL,
        "VarVolatileUtilizationPercentage" integer NOT NULL,
        "VarVolatileTotalBytes" bigint NOT NULL,
        "SystemMonitorVersion" text NOT NULL,
        "SystemMonitorStatus" text NOT NULL,
        "ControllerAgentVersion" text NOT NULL,
        "ControllerAgent_Status" text NOT NULL,
        "OCPP16_Version" text NOT NULL,
        "OCPP16Status" text NOT NULL,
        "ModbusClientVersion" text NOT NULL,
        "ModbusClientStatus" text NOT NULL,
        "ModbusServerVersion" text NOT NULL,
        "ModbusServerStatus" text NOT NULL,
        "JupicoreVersion" text NOT NULL,
        "JupicoreStatus" text NOT NULL,
        "LoadManagementVersion" text NOT NULL,
        "LoadManagementStatus" text NOT NULL,
        "WebserverVersion" text NOT NULL,
        "WebserverStatus" text NOT NULL,
        "LoadManagementActive" boolean NOT NULL,
        CONSTRAINT "PK_ChargeControllers" PRIMARY KEY ("Id"),
        CONSTRAINT "FK_ChargeControllers_Clients_ClientId" FOREIGN KEY ("ClientId") REFERENCES "Clients" ("Id") ON DELETE CASCADE,
        CONSTRAINT "FK_ChargeControllers_Installers_InstallerId" FOREIGN KEY ("InstallerId") REFERENCES "Installers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220808125035_Add-ChargeController-ChargePoint-RFID_Remove-ChargeStation') THEN
    CREATE TABLE "ChargePoints" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "ChargeControllerId" integer NOT NULL,
        "Enabled" boolean NOT NULL,
        "ChargingTimeInSeconds" integer NOT NULL,
        "ChargeCurrentMinimumInAmpers" integer NOT NULL,
        "ChargeCurrentMaximumInAmpers" integer NOT NULL,
        "FallbackCurrentInAmpers" integer NOT NULL,
        "FallbackTimeInSeconds" integer NOT NULL,
        "RFIDTimeoutInSeconds" integer NOT NULL,
        "OCPPConnectorId" integer NOT NULL,
        "ChargingRate" numeric NOT NULL,
        "SerialNumber" text NOT NULL,
        "Name" text NOT NULL,
        "SoftwareVersion" text NOT NULL,
        "Location" text NOT NULL,
        "Heartbeat" timestamp with time zone NOT NULL,
        "State" text NOT NULL,
        "Configured" text NOT NULL,
        "EnergyType" text NOT NULL,
        "PhaseRotation" text NOT NULL,
        "ChargingMode" text NOT NULL,
        "RFIDReader" text NOT NULL,
        "RFIDReaderType" text NOT NULL,
        "HighLevelCommunication" text NOT NULL,
        CONSTRAINT "PK_ChargePoints" PRIMARY KEY ("Id"),
        CONSTRAINT "FK_ChargePoints_ChargeControllers_ChargeControllerId" FOREIGN KEY ("ChargeControllerId") REFERENCES "ChargeControllers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220808125035_Add-ChargeController-ChargePoint-RFID_Remove-ChargeStation') THEN
    CREATE TABLE "RFID" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "ChargeControllerId" integer NOT NULL,
        "AllowCharging" boolean NOT NULL,
        "EvConsumptionRateKWhPer100KM" integer NOT NULL,
        "Name" text NOT NULL,
        "SerialNumber" text NOT NULL,
        "ExpiryDate" timestamp with time zone NOT NULL,
        "Type" text NOT NULL,
        CONSTRAINT "PK_RFID" PRIMARY KEY ("Id"),
        CONSTRAINT "FK_RFID_ChargeControllers_ChargeControllerId" FOREIGN KEY ("ChargeControllerId") REFERENCES "ChargeControllers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220808125035_Add-ChargeController-ChargePoint-RFID_Remove-ChargeStation') THEN
    CREATE INDEX "IX_ChargeControllers_ClientId" ON "ChargeControllers" ("ClientId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220808125035_Add-ChargeController-ChargePoint-RFID_Remove-ChargeStation') THEN
    CREATE INDEX "IX_ChargeControllers_InstallerId" ON "ChargeControllers" ("InstallerId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220808125035_Add-ChargeController-ChargePoint-RFID_Remove-ChargeStation') THEN
    CREATE INDEX "IX_ChargePoints_ChargeControllerId" ON "ChargePoints" ("ChargeControllerId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220808125035_Add-ChargeController-ChargePoint-RFID_Remove-ChargeStation') THEN
    CREATE INDEX "IX_RFID_ChargeControllerId" ON "RFID" ("ChargeControllerId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220808125035_Add-ChargeController-ChargePoint-RFID_Remove-ChargeStation') THEN
    ALTER TABLE "Networks" ADD CONSTRAINT "FK_Networks_ChargeControllers_ChargingStationId" FOREIGN KEY ("ChargingStationId") REFERENCES "ChargeControllers" ("Id") ON DELETE CASCADE;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220808125035_Add-ChargeController-ChargePoint-RFID_Remove-ChargeStation') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20220808125035_Add-ChargeController-ChargePoint-RFID_Remove-ChargeStation', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220912163230_Add slaveSerialNumber column to ChargingPoint') THEN
    ALTER TABLE "ChargePoints" ADD "SlaveSerialNumber" text NOT NULL DEFAULT '';
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220912163230_Add slaveSerialNumber column to ChargingPoint') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20220912163230_Add slaveSerialNumber column to ChargingPoint', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220927091201_Remove-active-and-loadmanagement-column-from-ChargingController') THEN
    ALTER TABLE "ChargeControllers" DROP COLUMN "Active";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220927091201_Remove-active-and-loadmanagement-column-from-ChargingController') THEN
    ALTER TABLE "ChargeControllers" DROP COLUMN "LoadManagement";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220927091201_Remove-active-and-loadmanagement-column-from-ChargingController') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "OCPPConnection" TYPE text;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220927091201_Remove-active-and-loadmanagement-column-from-ChargingController') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20220927091201_Remove-active-and-loadmanagement-column-from-ChargingController', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220927225257_move heartbeat from chargePoint to chargeController') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20220927225257_move heartbeat from chargePoint to chargeController', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220927231221_aux migration') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20220927231221_aux migration', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220927231327_move heartbeat from chargePoint to chargeController2') THEN
    ALTER TABLE "ChargePoints" DROP COLUMN "Heartbeat";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220927231327_move heartbeat from chargePoint to chargeController2') THEN
    ALTER TABLE "ChargeControllers" ADD "Heartbeat" timestamp with time zone NOT NULL DEFAULT TIMESTAMPTZ '-infinity';
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220927231327_move heartbeat from chargePoint to chargeController2') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20220927231327_move heartbeat from chargePoint to chargeController2', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "RFID" ALTER COLUMN "Type" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "RFID" ALTER COLUMN "SerialNumber" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "RFID" ALTER COLUMN "Name" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "RFID" ALTER COLUMN "ExpiryDate" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "RFID" ALTER COLUMN "EvConsumptionRateKWhPer100KM" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "RFID" ALTER COLUMN "AllowCharging" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "Networks" ALTER COLUMN "TransmittedBytes" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "Networks" ALTER COLUMN "ReceivedBytes" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "Networks" ALTER COLUMN "Name" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "Networks" ALTER COLUMN "MACAddress" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "Networks" ALTER COLUMN "IPV6Address" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "Networks" ALTER COLUMN "IPV4Address" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "Clients" ALTER COLUMN "Phone" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "Clients" ALTER COLUMN "Name" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "Clients" ALTER COLUMN "Location" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "Clients" ALTER COLUMN "Email" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "State" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "SoftwareVersion" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "SlaveSerialNumber" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "SerialNumber" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "RFIDTimeoutInSeconds" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "RFIDReaderType" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "RFIDReader" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "PhaseRotation" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "OCPPConnectorId" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "Name" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "Location" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "HighLevelCommunication" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "FallbackTimeInSeconds" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "FallbackCurrentInAmpers" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "EnergyType" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "Enabled" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "Configured" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "ChargingTimeInSeconds" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "ChargingRate" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "ChargingMode" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "ChargeCurrentMinimumInAmpers" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargePoints" ALTER COLUMN "ChargeCurrentMaximumInAmpers" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "WebserverVersion" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "WebserverStatus" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "VarVolatileUtilizationPercentage" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "VarVolatileTotalBytes" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "UptimeInSeconds" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "SystemTime" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "SystemMonitorVersion" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "SystemMonitorStatus" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "SimActive" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "SerialNumber" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "RAMUsedBytes" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "RAMTotalBytes" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "RAMAvailableBytes" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "OCPPConnection" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "OCPP16_Version" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "OCPP16Status" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "NetworkType" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "NetworkConnection" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemUsername" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemTransmittedBytes" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemSimStatus" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemSimPin" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemSignalRSSI" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemSignalQuality" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemSignalCQI" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemServiceActive" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemSecondaryDNSServer" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemRoamingStatus" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemRegistrationStatus" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemReceivedBytes" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemRadioTechnology" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemProvider" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemPrimaryDNSServer" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemPreferOverETH0" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemPassword" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemIPAddress" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemIMSI" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemICCID" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemExtendedReport" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemDefaultRoute" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemConnectionStatus" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModemAPN" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModbusServerVersion" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModbusServerStatus" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModbusClientVersion" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ModbusClientStatus" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "LogUtilizationPercentage" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "LogTotalBytes" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "LocationData" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "LoadManagementVersion" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "LoadManagementStatus" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "LoadManagementActive" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "JupicoreVersion" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "JupicoreStatus" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "Heartbeat" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ETH0SubnetMask" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ETH0IPAddress" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ETH0Gateway" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ETH0DHCP" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "DateInstalled" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "DataUtilizationPercentage" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "DataTotalBytes" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ControllerAgent_Status" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "ControllerAgentVersion" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "CPUUtilizationPercentage" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "CPUTemperatureCelsius" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "Address" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220928092807_Make-Imported-Data-Fields-Nullable') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20220928092807_Make-Imported-Data-Fields-Nullable', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930102221_change from serialNumber to Uid on chargePoint') THEN
    ALTER TABLE "ChargePoints" RENAME COLUMN "SerialNumber" TO "Uid";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930102221_change from serialNumber to Uid on chargePoint') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20220930102221_change from serialNumber to Uid on chargePoint', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930122608_Add_Load_Management_Data_To_Model') THEN
    ALTER TABLE "ChargeControllers" ADD "ChargingParkName" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930122608_Add_Load_Management_Data_To_Model') THEN
    ALTER TABLE "ChargeControllers" ADD "CurrentL1" double precision NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930122608_Add_Load_Management_Data_To_Model') THEN
    ALTER TABLE "ChargeControllers" ADD "CurrentL2" double precision NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930122608_Add_Load_Management_Data_To_Model') THEN
    ALTER TABLE "ChargeControllers" ADD "CurrentL3" double precision NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930122608_Add_Load_Management_Data_To_Model') THEN
    ALTER TABLE "ChargeControllers" ADD "HighLevelMeasuringDevice" integer NOT NULL DEFAULT 0;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930122608_Add_Load_Management_Data_To_Model') THEN
    ALTER TABLE "ChargeControllers" ADD "LoadCircuitFuse" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930122608_Add_Load_Management_Data_To_Model') THEN
    ALTER TABLE "ChargeControllers" ADD "LoadStrategy" integer NOT NULL DEFAULT 0;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930122608_Add_Load_Management_Data_To_Model') THEN
    ALTER TABLE "ChargeControllers" ADD "MeasuringDeviceType" integer NOT NULL DEFAULT 0;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930122608_Add_Load_Management_Data_To_Model') THEN
    ALTER TABLE "ChargeControllers" ADD "PlannedCurrentL1" double precision NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930122608_Add_Load_Management_Data_To_Model') THEN
    ALTER TABLE "ChargeControllers" ADD "PlannedCurrentL2" double precision NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930122608_Add_Load_Management_Data_To_Model') THEN
    ALTER TABLE "ChargeControllers" ADD "PlannedCurrentL3" double precision NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930122608_Add_Load_Management_Data_To_Model') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20220930122608_Add_Load_Management_Data_To_Model', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930124827_Change_Variable_Type') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "MeasuringDeviceType" TYPE text;
    ALTER TABLE "ChargeControllers" ALTER COLUMN "MeasuringDeviceType" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930124827_Change_Variable_Type') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20220930124827_Change_Variable_Type', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930141116_Update_Load_management_structure') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "PlannedCurrentL3" TYPE text;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930141116_Update_Load_management_structure') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "PlannedCurrentL2" TYPE text;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930141116_Update_Load_management_structure') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "PlannedCurrentL1" TYPE text;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930141116_Update_Load_management_structure') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "CurrentL3" TYPE text;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930141116_Update_Load_management_structure') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "CurrentL2" TYPE text;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930141116_Update_Load_management_structure') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "CurrentL1" TYPE text;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20220930141116_Update_Load_management_structure') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20220930141116_Update_Load_management_structure', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221003035714_Brought_back_the_serial_number_for_charge_points') THEN
    ALTER TABLE "ChargePoints" ADD "SerialNumber" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221003035714_Brought_back_the_serial_number_for_charge_points') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221003035714_Brought_back_the_serial_number_for_charge_points', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221003133052_Modified_high_level_measuring_device_in_two_variables_to_better_reflect_how_the_value_is_calculated') THEN
    ALTER TABLE "ChargeControllers" DROP COLUMN "HighLevelMeasuringDevice";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221003133052_Modified_high_level_measuring_device_in_two_variables_to_better_reflect_how_the_value_is_calculated') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "LoadStrategy" TYPE text;
    ALTER TABLE "ChargeControllers" ALTER COLUMN "LoadStrategy" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221003133052_Modified_high_level_measuring_device_in_two_variables_to_better_reflect_how_the_value_is_calculated') THEN
    ALTER TABLE "ChargeControllers" ADD "HighLevelMeasuringDeviceControllerId" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221003133052_Modified_high_level_measuring_device_in_two_variables_to_better_reflect_how_the_value_is_calculated') THEN
    ALTER TABLE "ChargeControllers" ADD "HighLevelMeasuringDeviceModbus" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221003133052_Modified_high_level_measuring_device_in_two_variables_to_better_reflect_how_the_value_is_calculated') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221003133052_Modified_high_level_measuring_device_in_two_variables_to_better_reflect_how_the_value_is_calculated', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221003134630_Added_monitored_cps_to_charge_controller') THEN
    ALTER TABLE "ChargeControllers" ADD "MonitoredCps" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221003134630_Added_monitored_cps_to_charge_controller') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221003134630_Added_monitored_cps_to_charge_controller', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221010111306_add Log table for errorMessages') THEN
    CREATE TABLE "Log" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "errorMessage" text NULL,
        "jsonData" text NULL,
        "ipRequest" text NULL,
        status integer NULL,
        created timestamp with time zone NOT NULL,
        CONSTRAINT "PK_Log" PRIMARY KEY ("Id")
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221010111306_add Log table for errorMessages') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221010111306_add Log table for errorMessages', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221010111857_change type of created in Log table') THEN
    ALTER TABLE "Log" ALTER COLUMN created DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221010111857_change type of created in Log table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221010111857_change type of created in Log table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221010160131_add ocppConfig, ocppMessage and ocppStatus tables') THEN
    CREATE TABLE "OCPPConfig" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "ChargeControllerId" integer NOT NULL,
        "ocppProtocolVersion" text NULL,
        "networkInterface" text NULL,
        "backendURL" text NULL,
        "serviceRFID" text NULL,
        "freeModeRFID" text NULL,
        "chargeStationModel" text NULL,
        "chargeStationVendor" text NULL,
        "chargeStationSerialNumber" text NULL,
        CONSTRAINT "PK_OCPPConfig" PRIMARY KEY ("Id"),
        CONSTRAINT "FK_OCPPConfig_ChargeControllers_ChargeControllerId" FOREIGN KEY ("ChargeControllerId") REFERENCES "ChargeControllers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221010160131_add ocppConfig, ocppMessage and ocppStatus tables') THEN
    CREATE TABLE "OCPPMessage" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "ChargeControllerId" integer NOT NULL,
        timestamp timestamp with time zone NULL,
        type integer NULL,
        action text NULL,
        "messageData" text NULL,
        CONSTRAINT "PK_OCPPMessage" PRIMARY KEY ("Id"),
        CONSTRAINT "FK_OCPPMessage_ChargeControllers_ChargeControllerId" FOREIGN KEY ("ChargeControllerId") REFERENCES "ChargeControllers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221010160131_add ocppConfig, ocppMessage and ocppStatus tables') THEN
    CREATE TABLE "OCPPStatus" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "ChargeControllerId" integer NOT NULL,
        status text NULL,
        device_uid text NULL,
        "occpStatus" text NULL,
        "occpStatusSentDate" timestamp with time zone NULL,
        operative boolean NULL,
        CONSTRAINT "PK_OCPPStatus" PRIMARY KEY ("Id"),
        CONSTRAINT "FK_OCPPStatus_ChargeControllers_ChargeControllerId" FOREIGN KEY ("ChargeControllerId") REFERENCES "ChargeControllers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221010160131_add ocppConfig, ocppMessage and ocppStatus tables') THEN
    CREATE UNIQUE INDEX "IX_OCPPConfig_ChargeControllerId" ON "OCPPConfig" ("ChargeControllerId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221010160131_add ocppConfig, ocppMessage and ocppStatus tables') THEN
    CREATE INDEX "IX_OCPPMessage_ChargeControllerId" ON "OCPPMessage" ("ChargeControllerId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221010160131_add ocppConfig, ocppMessage and ocppStatus tables') THEN
    CREATE INDEX "IX_OCPPStatus_ChargeControllerId" ON "OCPPStatus" ("ChargeControllerId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221010160131_add ocppConfig, ocppMessage and ocppStatus tables') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221010160131_add ocppConfig, ocppMessage and ocppStatus tables', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221014133852_add chargePointUid and chargeControllerUid on ChargePoint') THEN
    ALTER TABLE "ChargePoints" RENAME COLUMN "Uid" TO "ChargePointUid";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221014133852_add chargePointUid and chargeControllerUid on ChargePoint') THEN
    ALTER TABLE "ChargePoints" ADD "ChargeControllerUid" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221014133852_add chargePointUid and chargeControllerUid on ChargePoint') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221014133852_add chargePointUid and chargeControllerUid on ChargePoint', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221019083402_create Command table') THEN
    CREATE TABLE "Command" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "masterId" text NULL,
        "chargePointUid" text NULL,
        "chargeControllerUid" text NULL,
        command text NULL,
        status text NULL,
        "createdDate" timestamp with time zone NULL,
        "processedDate" timestamp with time zone NULL,
        CONSTRAINT "PK_Command" PRIMARY KEY ("Id")
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221019083402_create Command table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221019083402_create Command table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221019083656_make Cammel Case to fields from Command table') THEN
    ALTER TABLE "Command" RENAME COLUMN status TO "Status";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221019083656_make Cammel Case to fields from Command table') THEN
    ALTER TABLE "Command" RENAME COLUMN "processedDate" TO "ProcessedDate";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221019083656_make Cammel Case to fields from Command table') THEN
    ALTER TABLE "Command" RENAME COLUMN "masterId" TO "MasterId";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221019083656_make Cammel Case to fields from Command table') THEN
    ALTER TABLE "Command" RENAME COLUMN "createdDate" TO "CreatedDate";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221019083656_make Cammel Case to fields from Command table') THEN
    ALTER TABLE "Command" RENAME COLUMN "chargePointUid" TO "ChargePointUid";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221019083656_make Cammel Case to fields from Command table') THEN
    ALTER TABLE "Command" RENAME COLUMN "chargeControllerUid" TO "ChargeControllerUid";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221019083656_make Cammel Case to fields from Command table') THEN
    ALTER TABLE "Command" RENAME COLUMN command TO "CommandType";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221019083656_make Cammel Case to fields from Command table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221019083656_make Cammel Case to fields from Command table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPStatus" RENAME COLUMN status TO "Status";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPStatus" RENAME COLUMN operative TO "Operative";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPStatus" RENAME COLUMN "occpStatusSentDate" TO "OccpStatusSentDate";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPStatus" RENAME COLUMN "occpStatus" TO "OccpStatus";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPStatus" RENAME COLUMN device_uid TO "Device_uid";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPMessage" RENAME COLUMN type TO "Type";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPMessage" RENAME COLUMN timestamp TO "Timestamp";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPMessage" RENAME COLUMN "messageData" TO "MessageData";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPMessage" RENAME COLUMN action TO "Action";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPConfig" RENAME COLUMN "serviceRFID" TO "ServiceRFID";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPConfig" RENAME COLUMN "ocppProtocolVersion" TO "OcppProtocolVersion";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPConfig" RENAME COLUMN "networkInterface" TO "NetworkInterface";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPConfig" RENAME COLUMN "freeModeRFID" TO "FreeModeRFID";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPConfig" RENAME COLUMN "chargeStationVendor" TO "ChargeStationVendor";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPConfig" RENAME COLUMN "chargeStationSerialNumber" TO "ChargeStationSerialNumber";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPConfig" RENAME COLUMN "chargeStationModel" TO "ChargeStationModel";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPConfig" RENAME COLUMN "backendURL" TO "BackendURL";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "Log" RENAME COLUMN status TO "Status";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "Log" RENAME COLUMN "jsonData" TO "JsonData";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "Log" RENAME COLUMN "ipRequest" TO "IpRequest";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "Log" RENAME COLUMN "errorMessage" TO "ErrorMessage";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "Log" RENAME COLUMN created TO "CreatedDate";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    ALTER TABLE "OCPPMessage" ADD "FromLastHeartbeat" boolean NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221020111408_add FromLastHeartbeat field to OcppMEssage table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221020111408_add FromLastHeartbeat field to OcppMEssage table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221023130658_add CompanyName to chargeController table') THEN
    ALTER TABLE "ChargeControllers" ADD "CompanyName" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221023130658_add CompanyName to chargeController table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221023130658_add CompanyName to chargeController table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221031123658_add UserData table') THEN
    CREATE TABLE "UserData" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "ChargeControllerId" integer NOT NULL,
        "JsonData" text NULL,
        "Created" timestamp with time zone NULL,
        CONSTRAINT "PK_UserData" PRIMARY KEY ("Id"),
        CONSTRAINT "FK_UserData_ChargeControllers_ChargeControllerId" FOREIGN KEY ("ChargeControllerId") REFERENCES "ChargeControllers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221031123658_add UserData table') THEN
    CREATE UNIQUE INDEX "IX_UserData_ChargeControllerId" ON "UserData" ("ChargeControllerId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221031123658_add UserData table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221031123658_add UserData table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221031150013_add CurrentTagVersion and OsReleaseVersion fields to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" ADD "CurrentTagVersion" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221031150013_add CurrentTagVersion and OsReleaseVersion fields to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" ADD "OsReleaseVersion" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221031150013_add CurrentTagVersion and OsReleaseVersion fields to ChargeController table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221031150013_add CurrentTagVersion and OsReleaseVersion fields to ChargeController table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221031151132_add CurrentTagVersion and OsReleaseVersion fields to ChargeController table 2') THEN
    ALTER TABLE "ChargeControllers" RENAME COLUMN "CurrentTagVersion" TO "WebAppVersion";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221031151132_add CurrentTagVersion and OsReleaseVersion fields to ChargeController table 2') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221031151132_add CurrentTagVersion and OsReleaseVersion fields to ChargeController table 2', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221031184740_add Method MasterUrl and Payload fields to Command Table') THEN
    ALTER TABLE "Command" ADD "MasterUrl" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221031184740_add Method MasterUrl and Payload fields to Command Table') THEN
    ALTER TABLE "Command" ADD "Method" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221031184740_add Method MasterUrl and Payload fields to Command Table') THEN
    ALTER TABLE "Command" ADD "Payload" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221031184740_add Method MasterUrl and Payload fields to Command Table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221031184740_add Method MasterUrl and Payload fields to Command Table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221103171419_add emun for CommandStatus') THEN
    ALTER TABLE "Log" DROP CONSTRAINT "PK_Log";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221103171419_add emun for CommandStatus') THEN
    ALTER TABLE "Command" DROP CONSTRAINT "PK_Command";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221103171419_add emun for CommandStatus') THEN
    ALTER TABLE "Log" RENAME TO "Logs";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221103171419_add emun for CommandStatus') THEN
    ALTER TABLE "Command" RENAME TO "Commands";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221103171419_add emun for CommandStatus') THEN
    ALTER TABLE "Logs" ADD CONSTRAINT "PK_Logs" PRIMARY KEY ("Id");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221103171419_add emun for CommandStatus') THEN
    ALTER TABLE "Commands" ADD CONSTRAINT "PK_Commands" PRIMARY KEY ("Id");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221103171419_add emun for CommandStatus') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221103171419_add emun for CommandStatus', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221107162721_merge ChargingMode and Configured into ReleaseChargingMode from ChargePoint table') THEN
    ALTER TABLE "ChargePoints" DROP COLUMN "ChargingMode";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221107162721_merge ChargingMode and Configured into ReleaseChargingMode from ChargePoint table') THEN
    ALTER TABLE "ChargePoints" RENAME COLUMN "Configured" TO "ReleaseChargingMode";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221107162721_merge ChargingMode and Configured into ReleaseChargingMode from ChargePoint table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221107162721_merge ChargingMode and Configured into ReleaseChargingMode from ChargePoint table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221108123630_add AllowTestModeCommands to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" ADD "AllowTestModeCommands" boolean NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221108123630_add AllowTestModeCommands to ChargeController table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221108123630_add AllowTestModeCommands to ChargeController table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221109112242_add UserRole table') THEN
    ALTER TABLE "ApplicationUsers" ADD "ExternalId" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221109112242_add UserRole table') THEN
    ALTER TABLE "ApplicationUsers" ADD "Role" integer NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221109112242_add UserRole table') THEN
    CREATE TABLE "UserRole" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "ChargeControllerId" integer NOT NULL,
        "UserId" integer NOT NULL,
        CONSTRAINT "PK_UserRole" PRIMARY KEY ("Id"),
        CONSTRAINT "FK_UserRole_ApplicationUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "ApplicationUsers" ("Id") ON DELETE CASCADE,
        CONSTRAINT "FK_UserRole_ChargeControllers_ChargeControllerId" FOREIGN KEY ("ChargeControllerId") REFERENCES "ChargeControllers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221109112242_add UserRole table') THEN
    CREATE INDEX "IX_UserRole_ChargeControllerId" ON "UserRole" ("ChargeControllerId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221109112242_add UserRole table') THEN
    CREATE INDEX "IX_UserRole_UserId" ON "UserRole" ("UserId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221109112242_add UserRole table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221109112242_add UserRole table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    ALTER TABLE "UserRole" DROP CONSTRAINT "FK_UserRole_ApplicationUsers_UserId";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    ALTER TABLE "UserRole" DROP CONSTRAINT "FK_UserRole_ChargeControllers_ChargeControllerId";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    ALTER TABLE "UserRole" DROP CONSTRAINT "PK_UserRole";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    ALTER TABLE "UserRole" RENAME TO "UserRoles";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    ALTER INDEX "IX_UserRole_UserId" RENAME TO "IX_UserRoles_UserId";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    ALTER INDEX "IX_UserRole_ChargeControllerId" RENAME TO "IX_UserRoles_ChargeControllerId";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    ALTER TABLE "ApplicationUsers" ADD "IdentityUserId" text NOT NULL DEFAULT '';
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    ALTER TABLE "UserRoles" ADD CONSTRAINT "PK_UserRoles" PRIMARY KEY ("Id");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    CREATE TABLE "AspNetRoles" (
        "Id" text NOT NULL,
        "Name" character varying(256) NULL,
        "NormalizedName" character varying(256) NULL,
        "ConcurrencyStamp" text NULL,
        CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    CREATE TABLE "AspNetUsers" (
        "Id" text NOT NULL,
        "UserName" character varying(256) NULL,
        "NormalizedUserName" character varying(256) NULL,
        "Email" character varying(256) NULL,
        "NormalizedEmail" character varying(256) NULL,
        "EmailConfirmed" boolean NOT NULL,
        "PasswordHash" text NULL,
        "SecurityStamp" text NULL,
        "ConcurrencyStamp" text NULL,
        "PhoneNumber" text NULL,
        "PhoneNumberConfirmed" boolean NOT NULL,
        "TwoFactorEnabled" boolean NOT NULL,
        "LockoutEnd" timestamp with time zone NULL,
        "LockoutEnabled" boolean NOT NULL,
        "AccessFailedCount" integer NOT NULL,
        CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    CREATE TABLE "AspNetRoleClaims" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "RoleId" text NOT NULL,
        "ClaimType" text NULL,
        "ClaimValue" text NULL,
        CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
        CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    CREATE TABLE "AspNetUserClaims" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "UserId" text NOT NULL,
        "ClaimType" text NULL,
        "ClaimValue" text NULL,
        CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
        CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    CREATE TABLE "AspNetUserLogins" (
        "LoginProvider" text NOT NULL,
        "ProviderKey" text NOT NULL,
        "ProviderDisplayName" text NULL,
        "UserId" text NOT NULL,
        CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
        CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    CREATE TABLE "AspNetUserRoles" (
        "UserId" text NOT NULL,
        "RoleId" text NOT NULL,
        CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
        CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
        CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    CREATE TABLE "AspNetUserTokens" (
        "UserId" text NOT NULL,
        "LoginProvider" text NOT NULL,
        "Name" text NOT NULL,
        "Value" text NULL,
        CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
        CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    ALTER TABLE "UserRoles" ADD CONSTRAINT "FK_UserRoles_ApplicationUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "ApplicationUsers" ("Id") ON DELETE CASCADE;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    ALTER TABLE "UserRoles" ADD CONSTRAINT "FK_UserRoles_ChargeControllers_ChargeControllerId" FOREIGN KEY ("ChargeControllerId") REFERENCES "ChargeControllers" ("Id") ON DELETE CASCADE;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221114161608_add identity on DBContext') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221114161608_add identity on DBContext', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221119153622_add externalRelease field to chargePoint table') THEN
    ALTER TABLE "ChargePoints" ADD "ExternalRelease" boolean NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221119153622_add externalRelease field to chargePoint table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221119153622_add externalRelease field to chargePoint table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221119155020_add Name field to Command table') THEN
    ALTER TABLE "Commands" ADD "Name" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221119155020_add Name field to Command table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221119155020_add Name field to Command table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221122085741_add errorMessage on Commands table') THEN
    ALTER TABLE "Commands" ADD "ErrorMessage" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221122085741_add errorMessage on Commands table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221122085741_add errorMessage on Commands table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221122094706_add failed option to Status fields from Commands table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221122094706_add failed option to Status fields from Commands table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221123000738_add more fields to OCPPConfig table') THEN
    ALTER TABLE "OCPPConfig" ADD "ChargeBoxID" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221123000738_add more fields to OCPPConfig table') THEN
    ALTER TABLE "OCPPConfig" ADD "ChargeBoxSerialNumber" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221123000738_add more fields to OCPPConfig table') THEN
    ALTER TABLE "OCPPConfig" ADD "FreeMode" boolean NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221123000738_add more fields to OCPPConfig table') THEN
    ALTER TABLE "OCPPConfig" ADD "Iccid" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221123000738_add more fields to OCPPConfig table') THEN
    ALTER TABLE "OCPPConfig" ADD "Imsi" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221123000738_add more fields to OCPPConfig table') THEN
    ALTER TABLE "OCPPConfig" ADD "MeterSerialNumber" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221123000738_add more fields to OCPPConfig table') THEN
    ALTER TABLE "OCPPConfig" ADD "MeterType" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221123000738_add more fields to OCPPConfig table') THEN
    ALTER TABLE "OCPPConfig" ADD "ServiceRestart" boolean NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221123000738_add more fields to OCPPConfig table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221123000738_add more fields to OCPPConfig table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221125155644_add UseAccessCredentials field to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" ADD "UseAccessCredentials" boolean NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221125155644_add UseAccessCredentials field to ChargeController table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221125155644_add UseAccessCredentials field to ChargeController table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221125160535_add ETH-NoGateway field to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" ADD "ETH0NoGateway" boolean NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221125160535_add ETH-NoGateway field to ChargeController table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221125160535_add ETH-NoGateway field to ChargeController table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221203143044_add SupervisionMeterCurrent fields to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" RENAME COLUMN "PlannedCurrentL3" TO "SupervisionMeterCurrentI3";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221203143044_add SupervisionMeterCurrent fields to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" RENAME COLUMN "PlannedCurrentL2" TO "SupervisionMeterCurrentI2";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221203143044_add SupervisionMeterCurrent fields to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" RENAME COLUMN "PlannedCurrentL1" TO "SupervisionMeterCurrentI1";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221203143044_add SupervisionMeterCurrent fields to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" RENAME COLUMN "CurrentL3" TO "PlannedCurrentI3";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221203143044_add SupervisionMeterCurrent fields to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" RENAME COLUMN "CurrentL2" TO "PlannedCurrentI2";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221203143044_add SupervisionMeterCurrent fields to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" RENAME COLUMN "CurrentL1" TO "PlannedCurrentI1";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221203143044_add SupervisionMeterCurrent fields to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" ADD "CurrentI1" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221203143044_add SupervisionMeterCurrent fields to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" ADD "CurrentI2" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221203143044_add SupervisionMeterCurrent fields to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" ADD "CurrentI3" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221203143044_add SupervisionMeterCurrent fields to ChargeController table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221203143044_add SupervisionMeterCurrent fields to ChargeController table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221208124122_create_transactions_table') THEN
    CREATE TABLE "Transactions" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "ChargeControllerId" integer NOT NULL,
        "ChargePointId" integer NOT NULL,
        "ChargePointName" text NULL,
        "RfidTag" text NULL,
        "RfidName" text NULL,
        "StartDay" text NULL,
        "StartMonth" text NULL,
        "StartYear" text NULL,
        "StartDayOfWeek" text NULL,
        "StartTime" text NULL,
        "EndTime" text NULL,
        "DurationDays" text NULL,
        "ConnectedTimeSec" text NULL,
        "ChargeTimeSec" text NULL,
        "AveragePower" double precision NULL,
        "ChargedEnergy" double precision NULL,
        "ChargedDistance" double precision NULL,
        CONSTRAINT "PK_Transactions" PRIMARY KEY ("Id"),
        CONSTRAINT "FK_Transactions_ChargeControllers_ChargeControllerId" FOREIGN KEY ("ChargeControllerId") REFERENCES "ChargeControllers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221208124122_create_transactions_table') THEN
    CREATE INDEX "IX_Transactions_ChargeControllerId" ON "Transactions" ("ChargeControllerId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221208124122_create_transactions_table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221208124122_create_transactions_table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221215182154_add RfidSerialNumber to Command table') THEN
    ALTER TABLE "Commands" ADD "RfidSerialNumber" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221215182154_add RfidSerialNumber to Command table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221215182154_add RfidSerialNumber to Command table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221215184449_refactor some fields from Transaction table 1') THEN
    ALTER TABLE "Transactions" DROP COLUMN "ChargeTimeSec";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221215184449_refactor some fields from Transaction table 1') THEN
    ALTER TABLE "Transactions" DROP COLUMN "ConnectedTimeSec";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221215184449_refactor some fields from Transaction table 1') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221215184449_refactor some fields from Transaction table 1', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221215184506_refactor some fields from Transaction table 2') THEN
    ALTER TABLE "Transactions" ADD "ChargeTimeSec" double precision NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221215184506_refactor some fields from Transaction table 2') THEN
    ALTER TABLE "Transactions" ADD "ConnectedTimeSec" double precision NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20221215184506_refactor some fields from Transaction table 2') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20221215184506_refactor some fields from Transaction table 2', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230103121435_add_transactionId_to_transaction_table') THEN
    ALTER TABLE "Transactions" ADD "TransactionId" integer NOT NULL DEFAULT 0;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230103121435_add_transactionId_to_transaction_table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20230103121435_add_transactionId_to_transaction_table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230104135903_add CreatedDate to Transactions table') THEN
    ALTER TABLE "Transactions" ADD "CreatedDate" timestamp with time zone NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230104135903_add CreatedDate to Transactions table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20230104135903_add CreatedDate to Transactions table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230116051928_add nickName to ApplicationUser table') THEN
    ALTER TABLE "ApplicationUsers" ADD "NickName" text NOT NULL DEFAULT '';
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230116051928_add nickName to ApplicationUser table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20230116051928_add nickName to ApplicationUser table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230117120149_add tokenRequired and port to Command table') THEN
    ALTER TABLE "Commands" ADD "Port" integer NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230117120149_add tokenRequired and port to Command table') THEN
    ALTER TABLE "Commands" ADD "TokenRequired" boolean NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230117120149_add tokenRequired and port to Command table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20230117120149_add tokenRequired and port to Command table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230120085430_remove_Installers_table') THEN
    ALTER TABLE "ChargeControllers" DROP CONSTRAINT "FK_ChargeControllers_Installers_InstallerId";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230120085430_remove_Installers_table') THEN
    DROP TABLE "Installers";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230120085430_remove_Installers_table') THEN
    ALTER TABLE "ChargeControllers" ADD CONSTRAINT "FK_ChargeControllers_ApplicationUsers_InstallerId" FOREIGN KEY ("InstallerId") REFERENCES "ApplicationUsers" ("Id") ON DELETE CASCADE;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230120085430_remove_Installers_table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20230120085430_remove_Installers_table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230123115752_create_Emails_table') THEN
    CREATE TABLE "Emails" (
        "Id" integer GENERATED BY DEFAULT AS IDENTITY,
        "ChargeControllerId" integer NOT NULL,
        "Ftype" text NOT NULL,
        "EmailReceiver" text NOT NULL,
        "ReceiverName" text NOT NULL,
        "Rfid" integer NOT NULL,
        CONSTRAINT "PK_Emails" PRIMARY KEY ("Id"),
        CONSTRAINT "FK_Emails_ChargeControllers_ChargeControllerId" FOREIGN KEY ("ChargeControllerId") REFERENCES "ChargeControllers" ("Id") ON DELETE CASCADE
    );
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230123115752_create_Emails_table') THEN
    CREATE INDEX "IX_Emails_ChargeControllerId" ON "Emails" ("ChargeControllerId");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230123115752_create_Emails_table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20230123115752_create_Emails_table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230123133332_change_type_of_Rfid_column') THEN
    ALTER TABLE "Emails" ALTER COLUMN "Rfid" TYPE text;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230123133332_change_type_of_Rfid_column') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20230123133332_change_type_of_Rfid_column', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230127134418_make_Installer_nullable') THEN
    ALTER TABLE "ChargeControllers" DROP CONSTRAINT "FK_ChargeControllers_ApplicationUsers_InstallerId";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230127134418_make_Installer_nullable') THEN
    ALTER TABLE "ChargeControllers" ALTER COLUMN "InstallerId" DROP NOT NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230127134418_make_Installer_nullable') THEN
    ALTER TABLE "ChargeControllers" ADD CONSTRAINT "FK_ChargeControllers_ApplicationUsers_InstallerId" FOREIGN KEY ("InstallerId") REFERENCES "ApplicationUsers" ("Id");
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230127134418_make_Installer_nullable') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20230127134418_make_Installer_nullable', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230224103855_add payloadType to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" ADD "PayloadType" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230224103855_add payloadType to ChargeController table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20230224103855_add payloadType to ChargeController table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230224104834_add partial heartbeat to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" DROP COLUMN "PayloadType";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230224104834_add partial heartbeat to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" ADD "PartialHeartbeat" timestamp with time zone NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230224104834_add partial heartbeat to ChargeController table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20230224104834_add partial heartbeat to ChargeController table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230224105145_add full heartbeat to ChargeController table') THEN
    ALTER TABLE "ChargeControllers" RENAME COLUMN "PartialHeartbeat" TO "FullHeartbeat";
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230224105145_add full heartbeat to ChargeController table') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20230224105145_add full heartbeat to ChargeController table', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230224152218_loadManagementIpAddress') THEN
    ALTER TABLE "ChargeControllers" ADD "LoadManagementIpAddress" text NULL;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230224152218_loadManagementIpAddress') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20230224152218_loadManagementIpAddress', '6.0.8');
    END IF;
END $EF$;
COMMIT;

START TRANSACTION;


DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230228084121_Modify_TransactionId_for_Trasnsactions_type_to_string') THEN
    ALTER TABLE "Transactions" ALTER COLUMN "TransactionId" TYPE text;
    END IF;
END $EF$;

DO $EF$
BEGIN
    IF NOT EXISTS(SELECT 1 FROM "__EFMigrationsHistory" WHERE "MigrationId" = '20230228084121_Modify_TransactionId_for_Trasnsactions_type_to_string') THEN
    INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
    VALUES ('20230228084121_Modify_TransactionId_for_Trasnsactions_type_to_string', '6.0.8');
    END IF;
END $EF$;
COMMIT;

